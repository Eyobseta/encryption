<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Classical Encryption - Presentation</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="presentation.css">
</head>
<body>
    <header>
        <h1>Classical Encryption Techniques - Educational Presentation</h1>
        <p class="subtitle">Software Security Course - Manual Implementation Demonstration</p>
    </header>

    <nav>
        <a href="index.html">Registration</a>
        <a href="users.html">View Users</a>
        <a href="presentation.html">Presentation</a>
    </nav>

    <div class="container">
        <div class="disclaimer" style="text-align: center;">
            <h3 style="margin-top: 0;">ACADEMIC DEMONSTRATION ONLY</h3>
            <p>These classical encryption algorithms are implemented strictly for academic demonstration 
            and are <strong>NOT SECURE</strong> for real-world applications.</p>
        </div>

        <h2>Introduction to Classical Encryption</h2>
        <p>This project demonstrates five classical encryption techniques, each applied to different user data fields. Click on any algorithm below to explore its implementation.</p>

        <!-- Algorithm Selection Tabs -->
        <div class="algorithm-tabs">
            <div class="algorithm-tab active" onclick="showAlgorithm('caesar')">1. Caesar Cipher</div>
            <div class="algorithm-tab" onclick="showAlgorithm('columnar')">2. Columnar Transposition</div>
            <div class="algorithm-tab" onclick="showAlgorithm('hill')">3. Hill Cipher</div>
            <div class="algorithm-tab" onclick="showAlgorithm('railfence')">4. Rail Fence</div>
            <div class="algorithm-tab" onclick="showAlgorithm('vigenere')">5. Vigenère Cipher</div>
        </div>

        <!-- Caesar Cipher Section -->
        <div id="caesar" class="algorithm-content active">
            <div class="algorithm-box">
                <h3>1. Caesar Cipher (Full Name)</h3>
                <p><strong>Type:</strong> Substitution Cipher</p>
                <p><strong>Key:</strong> Shift = 3 positions</p>
                
                <div class="math-formula">
                    <strong>Encryption Formula:</strong> E(x) = (x + 3) mod 26<br>
                    <strong>Decryption Formula:</strong> D(x) = (x - 3) mod 26
                </div>
                
                <p><strong>Example:</strong> "ALICE" → "DOLFH" (Encryption), "DOLFH" → "ALICE" (Decryption)</p>
                
                <!-- Function Selection Buttons -->
                <div class="function-tabs">
                    <button class="function-tab active" onclick="showFunction('caesar', 'encrypt')">Encryption Function</button>
                    <button class="function-tab" onclick="showFunction('caesar', 'decrypt')">Decryption Function</button>
                </div>
                
                <!-- Encryption Function Display -->
                <div id="caesar-encrypt" class="function-content">
                    <div class="code-display">
                        <div class="function-title">caesarEncrypt(text)</div>
                        <pre>
function caesarEncrypt(text) {
    let result = '';
    const shift = 3;

    for (let i = 0; i < text.length; i++) {
        let char = text[i];

        if (char >= 'A' && char <= 'Z') {
            result += String.fromCharCode(((char.charCodeAt(0) - 65 + shift) % 26) + 65);
        }
        else if (char >= 'a' && char <= 'z') {
            result += String.fromCharCode(((char.charCodeAt(0) - 97 + shift) % 26) + 97);
        }
        else {
            result += char;
        }
    }

    return result;
}</pre>
                    </div>
                    
                    <!-- Encryption Explanation -->
                    <div class="explanation-area">
                        <h4 class="explanation-title">Caesar Cipher Encryption - Descriptive Explanation</h4>
                        <div class="code-explanation">
                            <h5>Function Declaration</h5>
                            <p>The function <code>caesarEncrypt</code> takes <code>text</code> as input which is the plaintext to be encrypted.</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Variable Initialization</h5>
                            <p><code>result</code> is initialized as an empty string to store the encrypted text. <code>shift</code> is set to 3, which is the key for the Caesar cipher.</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Loop Through Characters</h5>
                            <p>The <code>for</code> loop iterates through each character of the input string using index <code>i</code>. Each character is stored in <code>char</code> variable.</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Uppercase Letter Processing</h5>
                            <p>If the character is between 'A' and 'Z', it's converted to ASCII code, shifted by 3 positions forward in the alphabet. The formula <code>((charCode - 65 + shift) % 26) + 65</code> ensures wrapping around the alphabet (Z → C).</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Lowercase Letter Processing</h5>
                            <p>Similar process for lowercase letters using ASCII value 97 for 'a'. Formula: <code>((charCode - 97 + shift) % 26) + 97</code>.</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Non-alphabet Characters</h5>
                            <p>Characters that are not letters (spaces, numbers, symbols) are added to the result unchanged.</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Return Result</h5>
                            <p>The function returns the fully encrypted string stored in <code>result</code>.</p>
                        </div>
                    </div>
                </div>
                
                <!-- Decryption Function Display -->
                <div id="caesar-decrypt" class="function-content" style="display: none;">
                    <div class="code-display">
                        <div class="function-title">caesarDecrypt(text)</div>
<pre>function caesarDecrypt(text) {
    let result = '';
    const shift = 3;

    for (let i = 0; i < text.length; i++) {
        let char = text[i];

        if (char >= 'A' && char <= 'Z') {
            result += String.fromCharCode(((char.charCodeAt(0) - 65 - shift + 26) % 26) + 65);
        }
        else if (char >= 'a' && char <= 'z') {
            result += String.fromCharCode(((char.charCodeAt(0) - 97 - shift + 26) % 26) + 97);
        }
        else {
            result += char;
        }
    }

    return result;
}</pre>
                    </div>
                    
                    <!-- Decryption Explanation -->
                    <div class="explanation-area">
                        <h4 class="explanation-title">Caesar Cipher Decryption - Descriptive Explanation</h4>
                        <div class="code-explanation">
                            <h5>Function Declaration</h5>
                            <p>The function <code>caesarDecrypt</code> takes <code>text</code> as input which is the encrypted ciphertext.</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Variable Initialization</h5>
                            <p><code>result</code> stores the decrypted text. <code>shift</code> uses the same value (3) as encryption for consistency.</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Character Loop</h5>
                            <p>The <code>for</code> loop iterates through each character of the ciphertext, with each character stored in <code>char</code>.</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Uppercase Decryption</h5>
                            <p>For uppercase letters, the process reverses the shift: convert ASCII to 0-25, subtract 3, add 26 to avoid negative values, then modulo 26 and convert back to ASCII.</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Lowercase Decryption</h5>
                            <p>Same process for lowercase letters using the lowercase ASCII starting point.</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Non-alphabet Characters</h5>
                            <p>Non-alphabet characters pass through unchanged, identical to the encryption process.</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Return Decrypted Text</h5>
                            <p>The function returns the original plaintext recovered from the ciphertext.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Columnar Transposition Section -->
        <div id="columnar" class="algorithm-content" style="display: none;">
            <div class="algorithm-box">
                <h3>2. Columnar Transposition Cipher (Email)</h3>
                <p><strong>Type:</strong> Transposition Cipher</p>
                <p><strong>Key:</strong> "SECURITY" (8 characters)</p>
                
                <div class="math-formula">
                    <strong>Process:</strong><br>
                    1. Write plaintext in rows of key length<br>
                    2. Sort columns alphabetically by key letters<br>
                    3. Read columns in sorted order vertically
                </div>
                
                <!-- Function Selection Buttons -->
                <div class="function-tabs">
                    <button class="function-tab active" onclick="showFunction('columnar', 'encrypt')">Encryption Function</button>
                    <button class="function-tab" onclick="showFunction('columnar', 'decrypt')">Decryption Function</button>
                </div>
                
                <!-- Encryption Function Display -->
                <div id="columnar-encrypt" class="function-content">
                    <div class="code-display">
                        <div class="function-title">columnarEncrypt(text)</div>
                        <pre>
function columnarEncrypt(text) {
    const key = "SECURITY";
    const keyLength = key.length;
    
    const keyIndices = key.split('')
        .map((char, index) => ({char, index}))
        .sort((a, b) => a.char.localeCompare(b.char))
        .map((item, newIndex) => ({originalIndex: item.index, newIndex}));
    
    const rows = Math.ceil(text.length / keyLength);
    const matrix = new Array(rows);
    
    for (let i = 0; i < rows; i++) {
        matrix[i] = text.slice(i * keyLength, 
                              (i + 1) * keyLength).split('');
        while (matrix[i].length < keyLength) {
            matrix[i].push('X');
        }
    }
    
    let result = '';
    for (let col = 0; col < keyLength; col++) {
        const colToRead = keyIndices.find(
            item => item.newIndex === col).originalIndex;
        
        for (let row = 0; row < rows; row++) {
            result += matrix[row][colToRead];
        }
    }
    
    return result;
}</pre>
                    </div>
                    
                    <!-- Encryption Explanation -->
                    <div class="explanation-area">
                        <h4 class="explanation-title">Columnar Transposition Encryption - Descriptive Explanation</h4>
                        <div class="code-explanation">
                            <h5>Key Definition</h5>
                            <p><code>key</code> is set to "SECURITY" and <code>keyLength</code> stores its length (8 characters).</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Key Position Mapping</h5>
                            <p>The code creates a mapping between original column positions and alphabetically sorted positions. First, each character gets its original index, then they're sorted alphabetically (C, E, I, R, S, T, U, Y), and finally mapped back to track which original position corresponds to each sorted position.</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Matrix Dimensions</h5>
                            <p><code>rows</code> calculates how many rows are needed based on text length divided by key length, rounded up. <code>matrix</code> initializes a 2D array with this many rows.</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Fill Matrix with Text</h5>
                            <p>The <code>for</code> loop fills each row by taking chunks of text of length <code>keyLength</code>. If a row isn't full (last row), it's padded with 'X' characters.</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Read Columns in Sorted Order</h5>
                            <p>The outer <code>for</code> loop goes through columns in their sorted order. For each column, it finds which original column corresponds to this sorted position using <code>colToRead</code>. The inner loop reads down that column from top to bottom, appending characters to <code>result</code>.</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Return Ciphertext</h5>
                            <p>The ciphertext is returned, created by reading the matrix columns in the order determined by the sorted key.</p>
                        </div>
                    </div>
                </div>
                
                <!-- Decryption Function Display -->
                <div id="columnar-decrypt" class="function-content" style="display: none;">
                    <div class="code-display">
                        <div class="function-title">columnarDecrypt(text)</div>
<pre>function columnarDecrypt(text) {
    const key = "SECURITY";
    const keyLength = key.length;
    const rows = Math.ceil(text.length / keyLength);
    
    const keyIndices = key.split('')
        .map((char, index) => ({char, index}))
        .sort((a, b) => a.char.localeCompare(b.char))
        .map((item, newIndex) => ({originalIndex: item.index, newIndex}));
    
    const matrix = new Array(rows);
    for (let i = 0; i < rows; i++) {
        matrix[i] = new Array(keyLength);
    }
    
    let textIndex = 0;
    for (let col = 0; col < keyLength; col++) {
        const colToWrite = keyIndices.find(
            item => item.newIndex === col).originalIndex;
        
        for (let row = 0; row < rows; row++) {
            matrix[row][colToWrite] = text[textIndex];
            textIndex++;
        }
    }
    
    let result = '';
    for (let row = 0; row < rows; row++) {
        for (let col = 0; col < keyLength; col++) {
            if (matrix[row][col] !== 'X') {
                result += matrix[row][col];
            }
        }
    }
    
    return result.replace(/X+$/g, '');
}</pre>
                    </div>
                    
                    <!-- Decryption Explanation -->
                    <div class="explanation-area">
                        <h4 class="explanation-title">Columnar Transposition Decryption - Descriptive Explanation</h4>
                        <div class="code-explanation">
                            <h5>Key and Matrix Setup</h5>
                            <p>Same key "SECURITY" is used. <code>rows</code> is calculated from ciphertext length to determine matrix dimensions.</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Recreate Key Mapping</h5>
                            <p>The same key position mapping as encryption is recreated to know how columns were sorted during encryption.</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Initialize Empty Matrix</h5>
                            <p>An empty matrix with <code>rows</code> rows and <code>keyLength</code> columns is created to receive the ciphertext.</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Fill Matrix with Ciphertext</h5>
                            <p>The double <code>for</code> loop fills the matrix: outer loop goes through columns in sorted order, inner loop fills each column from top to bottom. <code>textIndex</code> tracks position in ciphertext.</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Read Matrix Row by Row</h5>
                            <p>After matrix is filled, it's read row by row (left to right) to reconstruct original text. Padding 'X' characters are skipped during reading.</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Remove Padding Characters</h5>
                            <p>The final <code>replace</code> removes any trailing 'X' characters that were added as padding during encryption.</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Return Original Text</h5>
                            <p>The decrypted plaintext is returned with padding removed.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Hill Cipher Section -->
        <div id="hill" class="algorithm-content" style="display: none;">
            <div class="algorithm-box">
                <h3>3. Hill Cipher (Password)</h3>
                <p><strong>Type:</strong> Polygraphic Substitution Cipher</p>
                <p><strong>Key Matrix:</strong> [[5, 8], [17, 3]]</p>
                <p><strong>Inverse Matrix:</strong> [[9, 2], [23, 15]] (for decryption)</p>
                
                <div class="math-formula">
                    <strong>Encryption:</strong> C = K × P (mod 26)<br>
                    <strong>Decryption:</strong> P = K⁻¹ × C (mod 26)
                </div>
                
                <!-- Function Selection Buttons -->
                <div class="function-tabs">
                    <button class="function-tab active" onclick="showFunction('hill', 'encrypt')">Encryption Function</button>
                    <button class="function-tab" onclick="showFunction('hill', 'decrypt')">Decryption Function</button>
                </div>
                
                <!-- Encryption Function Display -->
                <div id="hill-encrypt" class="function-content">
                    <div class="code-display">
                        <div class="function-title">hillEncrypt(text)</div>
<pre>function hillEncrypt(text) {
    const matrix = [[5, 8], [17, 3]];
    
    text = text.toUpperCase().replace(/[^A-Z]/g, '');
    
    if (text.length % 2 !== 0) {
        text += 'X';
    }
    
    let result = '';
    
    for (let i = 0; i < text.length; i += 2) {
        const p1 = text.charCodeAt(i) - 65;
        const p2 = text.charCodeAt(i + 1) - 65;
        
        const c1 = (matrix[0][0] * p1 + matrix[0][1] * p2) % 26;
        const c2 = (matrix[1][0] * p1 + matrix[1][1] * p2) % 26;
        
        result += String.fromCharCode(c1 + 65) + 
                  String.fromCharCode(c2 + 65);
    }
    
    return result;
}</pre>
                    </div>
                    
                    <!-- Encryption Explanation -->
                    <div class="explanation-area">
                        <h4 class="explanation-title">Hill Cipher Encryption - Descriptive Explanation</h4>
                        <div class="code-explanation">
                            <h5>Key Matrix Definition</h5>
                            <p><code>matrix</code> is the 2×2 encryption key matrix [[5, 8], [17, 3]] that will transform pairs of letters.</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Text Preprocessing</h5>
                            <p>The input text is converted to uppercase and non-alphabet characters are removed using regex <code>/[^A-Z]/g</code>.</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Padding for Even Length</h5>
                            <p>Since Hill cipher works on letter pairs (digraphs), if the text has odd length, 'X' is appended to make it even.</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Process Digraphs in Loop</h5>
                            <p>The <code>for</code> loop processes text in steps of 2 (i += 2). <code>p1</code> and <code>p2</code> convert two consecutive letters to numbers (A=0, B=1, ..., Z=25).</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Matrix Multiplication</h5>
                            <p>Linear transformation applied: <code>c1 = (5*p1 + 8*p2) mod 26</code> and <code>c2 = (17*p1 + 3*p2) mod 26</code>. The modulo 26 ensures result stays in alphabet range.</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Convert Back to Letters</h5>
                            <p>The resulting numbers <code>c1</code> and <code>c2</code> are converted back to letters by adding 65 (ASCII for 'A').</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Return Ciphertext</h5>
                            <p>All transformed digraphs are concatenated and returned as ciphertext.</p>
                        </div>
                    </div>
                </div>
                
                <!-- Decryption Function Display -->
                <div id="hill-decrypt" class="function-content" style="display: none;">
                    <div class="code-display">
                        <div class="function-title">hillDecrypt(text)</div>
<pre>function hillDecrypt(text) {
    const inverseMatrix = [[9, 2], [1, 15]];
    
    let result = '';
    
    for (let i = 0; i < text.length; i += 2) {
        const c1 = text.charCodeAt(i) - 65;
        const c2 = text.charCodeAt(i + 1) - 65;
        
        const p1 = (inverseMatrix[0][0] * c1 + 
                   inverseMatrix[0][1] * c2) % 26;
        const p2 = (inverseMatrix[1][0] * c1 + 
                   inverseMatrix[1][1] * c2) % 26;
        
        result += String.fromCharCode(p1 + 65) + 
                  String.fromCharCode(p2 + 65);
    }
    
    return result;
}</pre>
                    </div>
                    
                    <!-- Decryption Explanation -->
                    <div class="explanation-area">
                        <h4 class="explanation-title">Hill Cipher Decryption - Descriptive Explanation</h4>
                        <div class="code-explanation">
                            <h5>Inverse Matrix Definition</h5>
                            <p><code>inverseMatrix</code> [[9, 2], [23, 15]] is the inverse of the encryption matrix modulo 26, satisfying K × K⁻¹ = identity matrix.</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Process Ciphertext Pairs</h5>
                            <p>The <code>for</code> loop processes ciphertext in pairs (digraphs). <code>c1</code> and <code>c2</code> convert ciphertext letters to numbers 0-25.</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Apply Inverse Transformation</h5>
                            <p>The inverse matrix multiplies the ciphertext numbers: <code>p1 = (9*c1 + 2*c2) mod 26</code> and <code>p2 = (23*c1 + 15*c2) mod 26</code>. This reverses the encryption transformation.</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Convert to Plaintext Letters</h5>
                            <p>The resulting numbers <code>p1</code> and <code>p2</code> are converted back to letters by adding 65 (ASCII for 'A').</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Return Plaintext</h5>
                            <p>All decrypted digraphs are concatenated and returned as the original plaintext.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Rail Fence Section -->
        <div id="railfence" class="algorithm-content" style="display: none;">
            <div class="algorithm-box">
                <h3>4. Rail Fence Cipher (National ID)</h3>
                <p><strong>Type:</strong> Transposition Cipher</p>
                <p><strong>Key:</strong> 3 rails</p>
                
                <div class="math-formula">
                    <strong>Process:</strong><br>
                    1. Write characters in zigzag pattern across rails<br>
                    2. Read characters row by row for encryption<br>
                    3. Reconstruct zigzag pattern for decryption
                </div>
                
                <!-- Function Selection Buttons -->
                <div class="function-tabs">
                    <button class="function-tab active" onclick="showFunction('railfence', 'encrypt')">Encryption Function</button>
                    <button class="function-tab" onclick="showFunction('railfence', 'decrypt')">Decryption Function</button>
                </div>
                
                <!-- Encryption Function Display -->
                <div id="railfence-encrypt" class="function-content">
                    <div class="code-display">
                        <div class="function-title">railFenceEncrypt(text)</div>
<pre>function railFenceEncrypt(text) {
    const rails = 3;
    const fence = new Array(rails);
    for (let i = 0; i < rails; i++) fence[i] = [];
    
    let rail = 0;
    let direction = 1;
    
    for (let i = 0; i < text.length; i++) {
        fence[rail].push(text[i]);
        
        if (rail === 0 && direction === -1) {
            direction = 1;
        } else if (rail === rails - 1 && direction === 1) {
            direction = -1;
        }
        
        rail += direction;
    }
    
    return fence.flat().join('');
}</pre>
                    </div>
                    
                    <!-- Encryption Explanation -->
                    <div class="explanation-area">
                        <h4 class="explanation-title">Rail Fence Encryption - Descriptive Explanation</h4>
                        <div class="code-explanation">
                            <h5>Rail Setup</h5>
                            <p><code>rails = 3</code> defines number of rails. <code>fence</code> array creates 3 empty arrays to hold characters for each rail.</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Position Tracking</h5>
                            <p><code>rail = 0</code> starts at top rail (0). <code>direction = 1</code> initially moves downward (1 = down, -1 = up).</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Zigzag Placement Loop</h5>
                            <p>The <code>for</code> loop places each character from <code>text</code> onto current rail using <code>fence[rail].push(text[i])</code>.</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Direction Change Logic</h5>
                            <p>When reaching top rail (<code>rail === 0</code>) while moving up (<code>direction === -1</code>), change to downward. When reaching bottom rail (<code>rail === rails-1</code>) while moving down, change to upward. This creates the zigzag pattern.</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Move to Next Rail</h5>
                            <p><code>rail += direction</code> moves to next rail in current direction (up or down).</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Combine Rails</h5>
                            <p><code>fence.flat().join('')</code> flattens the 2D array and joins all characters: top rail first, then middle, then bottom.</p>
                        </div>
                    </div>
                </div>
                
                <!-- Decryption Function Display -->
                <div id="railfence-decrypt" class="function-content" style="display: none;">
                    <div class="code-display">
                        <div class="function-title">railFenceDecrypt(text)</div>
<pre>function railFenceDecrypt(text) {
    const rails = 3;
    const fencePattern = new Array(rails);
    for (let i = 0; i < rails; i++) fencePattern[i] = [];
    
    let rail = 0;
    let direction = 1;
    
    for (let i = 0; i < text.length; i++) {
        fencePattern[rail].push('*');
        
        if (rail === 0 && direction === -1) {
            direction = 1;
        } else if (rail === rails - 1 && direction === 1) {
            direction = -1;
        }
        
        rail += direction;
    }
    
    let index = 0;
    for (let r = 0; r < rails; r++) {
        for (let c = 0; c < fencePattern[r].length; c++) {
            fencePattern[r][c] = text[index];
            index++;
        }
    }
    
    let result = '';
    rail = 0;
    direction = 1;
    const positions = new Array(rails).fill(0);
    
    for (let i = 0; i < text.length; i++) {
        result += fencePattern[rail][positions[rail]];
        positions[rail]++;
        
        if (rail === 0 && direction === -1) {
            direction = 1;
        } else if (rail === rails - 1 && direction === 1) {
            direction = -1;
        }
        
        rail += direction;
    }
    
    return result;
}</pre>
                    </div>
                    
                    <!-- Decryption Explanation -->
                    <div class="explanation-area">
                        <h4 class="explanation-title">Rail Fence Decryption - Descriptive Explanation</h4>
                        <div class="code-explanation">
                            <h5>Recreate Zigzag Pattern</h5>
                            <p>First, recreates the same zigzag pattern as encryption by placing '*' placeholders in <code>fencePattern</code> using same rail/direction logic.</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Fill Pattern with Ciphertext</h5>
                            <p>The nested loops fill the pattern with actual ciphertext characters: outer loop goes through rails, inner loop goes through each position in that rail, replacing '*' with ciphertext characters in order.</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Position Tracking Arrays</h5>
                            <p><code>positions</code> array tracks read position for each rail. <code>rail</code> and <code>direction</code> reinitialize for traversing the pattern.</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Traverse Pattern to Reconstruct</h5>
                            <p>The final loop traverses the same zigzag path: reads character from current rail at current position (<code>fencePattern[rail][positions[rail]]</code>), increments that rail's position, then moves to next rail following same direction rules.</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Return Original Text</h5>
                            <p>Characters are read in zigzag order, reconstructing the original plaintext sequence.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Vigenère Cipher Section -->
        <div id="vigenere" class="algorithm-content" style="display: none;">
            <div class="algorithm-box">
                <h3>5. Vigenère Cipher - Numeric Version (Phone Number)</h3>
                <p><strong>Type:</strong> Polyalphabetic Substitution Cipher</p>
                <p><strong>Key:</strong> "KEY" (converted to numeric shifts)</p>
                
                <div class="math-formula">
                    <strong>Encryption:</strong> Cᵢ = (Pᵢ + Kᵢ) mod 10<br>
                    <strong>Decryption:</strong> Pᵢ = (Cᵢ - Kᵢ) mod 10
                </div>
                
                <!-- Function Selection Buttons -->
                <div class="function-tabs">
                    <button class="function-tab active" onclick="showFunction('vigenere', 'encrypt')">Encryption Function</button>
                    <button class="function-tab" onclick="showFunction('vigenere', 'decrypt')">Decryption Function</button>
                </div>
                
                <!-- Encryption Function Display -->
                <div id="vigenere-encrypt" class="function-content">
                    <div class="code-display">
                        <div class="function-title">vigenereEncryptNumeric(text)</div>
<pre>function vigenereEncryptNumeric(text) {
    const key = "KEY";
    let result = '';
    
    text = text.replace(/\D/g, '');
    
    for (let i = 0; i < text.length; i++) {
        const textChar = parseInt(text[i]);
        const keyChar = key.charCodeAt(i % key.length) - 65;
        
        const encrypted = (textChar + (keyChar % 10)) % 10;
        result += encrypted.toString();
    }
    
    return result;
}</pre>
                    </div>
                    
                    <!-- Encryption Explanation -->
                    <div class="explanation-area">
                        <h4 class="explanation-title">Vigenère Cipher Encryption (Numeric) - Descriptive Explanation</h4>
                        <div class="code-explanation">
                            <h5>Key Definition</h5>
                            <p><code>key = "KEY"</code> is the keyword for shifting. <code>result</code> will store encrypted digits.</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Clean Input</h5>
                            <p><code>text.replace(/\D/g, '')</code> removes all non-digit characters using regex, keeping only numbers 0-9.</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Digit Processing Loop</h5>
                            <p>The <code>for</code> loop processes each digit. <code>textChar</code> converts digit character to integer using <code>parseInt()</code>.</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Get Key Shift Value</h5>
                            <p><code>key.charCodeAt(i % key.length) - 65</code> gets key character for current position (wraps around if text longer than key). Converts letter to number: A=0, B=1, etc.</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Encrypt Digit</h5>
                            <p><code>(textChar + (keyChar % 10)) % 10</code> adds plaintext digit and key value (mod 10 to keep result 0-9). <code>keyChar % 10</code> ensures key value is single digit.</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Build Result String</h5>
                            <p>Encrypted digit converted back to string and appended to <code>result</code>.</p>
                        </div>
                    </div>
                </div>
                
                <!-- Decryption Function Display -->
                <div id="vigenere-decrypt" class="function-content" style="display: none;">
                    <div class="code-display">
                        <div class="function-title">vigenereDecryptNumeric(text)</div>
<pre>function vigenereDecryptNumeric(text) {
    const key = "KEY";
    let result = '';
    
    for (let i = 0; i < text.length; i++) {
        const textChar = parseInt(text[i]);
        const keyChar = key.charCodeAt(i % key.length) - 65;
        
        const decrypted = (textChar - (keyChar % 10) + 10) % 10;
        result += decrypted.toString();
    }
    
    return result;
}</pre>
                    </div>
                    
                    <!-- Decryption Explanation -->
                    <div class="explanation-area">
                        <h4 class="explanation-title">Vigenère Cipher Decryption (Numeric) - Descriptive Explanation</h4>
                        <div class="code-explanation">
                            <h5>Same Key</h5>
                            <p>Uses identical <code>key = "KEY"</code> as encryption for consistency in shift values.</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Process Ciphertext Digits</h5>
                            <p>Loop through each ciphertext digit. <code>textChar</code> converts digit to integer.</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Retrieve Same Key Value</h5>
                            <p>Same calculation as encryption: <code>key.charCodeAt(i % key.length) - 65</code> gets key shift value for this position.</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Reverse the Shift</h5>
                            <p><code>(textChar - (keyChar % 10) + 10) % 10</code> subtracts key value, adds 10 to prevent negative results, then modulo 10 to get original digit 0-9.</p>
                        </div>
                        <div class="code-explanation">
                            <h5>Build Plaintext Result</h5>
                            <p>Decrypted digit converted to string and appended to <code>result</code>, reconstructing original number.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

<!-- Test Section -->
<h2>Test Encryption & Decryption Algorithms</h2>
<div class="test-section">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
        <h3 style="margin: 0;">Interactive Algorithm Testing</h3>
        <div id="serverStatus" style="font-size: 12px; padding: 5px 10px; background: #d4edda; border-radius: 3px; color: #155724;">
            ✓ Backend Connected
        </div>
    </div>
    
    <div style="background: #f0f8ff; padding: 15px; border-radius: 5px; margin-bottom: 20px;">
        <p><strong>Current Algorithm:</strong> <span id="currentAlgorithmName">Caesar Cipher</span> 
           (<span id="currentAlgorithmDesc">Shift = 3</span>)</p>
        <p><small>Using backend API at: http://localhost:3000</small></p>
    </div>
    
    <div class="form-group">
        <label for="testInput">Input Text/Number:</label>
        <input type="text" id="testInput" placeholder="Enter text or numbers to test..." 
               style="width: 100%; padding: 12px; font-size: 16px; margin-bottom: 5px;">
        <small id="inputGuidelines" style="display: block; margin-bottom: 5px;">
            Enter text with letters (A-Z, a-z) and spaces. Other characters remain unchanged.
        </small>
        <!-- Validation message will be inserted here by JavaScript -->
    </div>
    
    <div class="test-controls">
        <button class="test-button" onclick="testEncryptionCurrent()">Test Encryption of Current Algorithm</button>
        <button class="test-button" onclick="testDecryptionCurrent()">Test Decryption of Current Algorithm</button>
        <button class="test-button" onclick="testFullCycle()">Test Encryption → Decryption Cycle</button>
        <button class="test-button secondary" onclick="clearAllTests()">Clear All Tests</button>
    </div>
    
    <div id="testResults" class="test-results">
        <p style="text-align: center; color: #7f8c8d;">Test results will appear here...</p>
    </div>
</div>
        <!-- Algorithm Comparison Table -->
        <h2>Algorithm Comparison</h2>
        <table class="comparison-table">
            <thead>
                <tr>
                    <th>Algorithm</th>
                    <th>Type</th>
                    <th>Key</th>
                    <th>Data Field</th>
                    <th>Complexity</th>
                    <th>Security Level</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Caesar Cipher</td>
                    <td>Substitution</td>
                    <td>Shift = 3</td>
                    <td>Full Name</td>
                    <td>O(n)</td>
                    <td>Very Low</td>
                </tr>
                <tr>
                    <td>Columnar Transposition</td>
                    <td>Transposition</td>
                    <td>"SECURITY"</td>
                    <td>Email</td>
                    <td>O(n²)</td>
                    <td>Low</td>
                </tr>
                <tr>
                    <td>Hill Cipher</td>
                    <td>Polygraphic Substitution</td>
                    <td>2×2 Matrix</td>
                    <td>Password</td>
                    <td>O(n)</td>
                    <td>Medium (for classical)</td>
                </tr>
                <tr>
                    <td>Rail Fence</td>
                    <td>Transposition</td>
                    <td>3 Rails</td>
                    <td>National ID</td>
                    <td>O(n)</td>
                    <td>Very Low</td>
                </tr>
                <tr>
                    <td>Vigenère Cipher</td>
                    <td>Polyalphabetic Substitution</td>
                    <td>"KEY" (numeric)</td>
                    <td>Phone Number</td>
                    <td>O(n)</td>
                    <td>Low-Medium (for classical)</td>
                </tr>
            </tbody>
        </table>

        <!-- Security Considerations -->
        <h2>Security Considerations</h2>
        <div class="disclaimer">
            <h4>Why These Algorithms Are Not Secure:</h4>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 15px;">
                <div>
                    <h5>Caesar Cipher:</h5>
                    <ul>
                        <li>Only 25 possible shifts</li>
                        <li>Easily broken by brute force</li>
                        <li>Vulnerable to frequency analysis</li>
                    </ul>
                </div>
                <div>
                    <h5>Columnar Transposition:</h5>
                    <ul>
                        <li>Vulnerable to anagramming</li>
                        <li>Pattern reveals column structure</li>
                        <li>Limited key permutations</li>
                    </ul>
                </div>
                <div>
                    <h5>Hill Cipher:</h5>
                    <ul>
                        <li>Vulnerable to known-plaintext attacks</li>
                        <li>Requires invertible matrix modulo 26</li>
                        <li>Limited to linear transformations</li>
                    </ul>
                </div>
                <div>
                    <h5>Rail Fence:</h5>
                    <ul>
                        <li>Limited number of rails (easy to guess)</li>
                        <li>Pattern easily recognized</li>
                        <li>No confusion, only diffusion</li>
                    </ul>
                </div>
                <div>
                    <h5>Vigenère Cipher:</h5>
                    <ul>
                        <li>Repeating key pattern</li>
                        <li>Vulnerable to Kasiski examination</li>
                        <li>Friedman test reveals key length</li>
                    </ul>
                </div>
            </div>
            <p style="margin-top: 20px; text-align: center;">
                <strong>Modern Alternative:</strong> Use AES-256, RSA, or other vetted cryptographic libraries with proper key management.
            </p>
        </div>

        <h2>Project Architecture</h2>
        <div class="code-block">
        <pre>
            Project Structure:
                                classical-encryption-app/
                                        ├── backend/
                                        |   ├── node_modules
                                        │   ├── server.js        (Express server with API endpoints)
                                        │   ├── encryption.js    (All manual encryption implementations)
                                        |   ├── package-lock.json
                                        │   └── package.json        (Node.js dependencies)
                                        ├── frontend/
                                        │   ├── index.html        (Registration page with form)
                                        │   ├── users.html        (View encrypted/decrypted data)
                                        │   ├── presentation.html   (This educational page)
                                        │   ├── style.css           (Minimal styling)
                                        |   ├── users.css
                                        |   ├── presentation.css   
                                        │   ├── index.js           (Frontend JavaScript)
                                        |   ├── users.js
                                        |   └── presentation.js
                                        └── documentation/
                                            └── encryption_documentation.tex  (LaTeX documentation)

    </pre>
        </div>
    </div>

    <footer>
        <p>Software Security Course Project | Presented for Academic Purposes</p>
        <p><strong>Educational Goal:</strong> Understand classical encryption principles to appreciate modern cryptography</p>
    </footer>

<script type="module" src="presentation.js"></script>
</body>
</html>